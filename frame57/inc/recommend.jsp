<%@ page contentType="text/html; charset=UTF-8" %>
<div style="position: absolute;left: 0px;top:145px;width: 1280px;height: 530px;overflow: hidden;">
    <div style="position: absolute;left:56px;top:30px;width: 2560px;height: 460px; display:none;" id="recomm">

        <div style="position: absolute;left:0px;top:0px;width: 217px;height: 217px;" id="recommdiv0">

            <div style="position: absolute;left:0px;top:0px;width: 217px;height: 217px;">
                <img src="images/btn_trans.gif" id="recommimg0" width="217" height="217" style="border-radius: 10px;">
                <img src="images/portal/recommend/recoTranPicBg_0.png" style="position: absolute;left:0px;top:171px;">
                <font id="recoName_0"
                      style="position:absolute; width: 210px; height: 46px; font-size:25px; left: 10px; top: 171px; line-height:46px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-17px;top:-16px;width: 254px;height: 252px;visibility: ;" id="focus0">
                <img src="images/portal/recommendfocus/recofocus_1.png" width="251" height="250">
            </div>
        </div>
        <div style="position: absolute;left:237px;top:0px;width: 426px;height: 283px;" id="recommdiv1">
            <div style="position: absolute;left:0px;top:0px;width: 426px;height: 283px;">
                <img src="images/btn_trans.gif" id="recommimg1" width="426" height="283" style="border-radius: 10px;" >
                <img src="images/portal/recommend/recoTranPicBg_1.png" style="position: absolute;left:0px;top:224px; width:426px; height:59px;">
                <font id="recoName_1"
                      style="position:absolute; width: 406px; height: 30px; font-size:25px; left: 18px; top: 230px; line-height:30px;color: #fff;" class="font_ellipsis"></font>
                <font id="recoSeName_1"
                      style="position:absolute; width: 406px; height: 20px; font-size:20px; left: 18px; top: 260px; line-height:020px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-17px;top:-18px;width: 425px;height: 283px;visibility: hidden;" id="focus1">
                <img src="images/portal/recommendfocus/recofocus_2.png" >
            </div>

        </div>
        <div style="position: absolute;left:682px;top:0px;width: 136px;height: 147px;" id="recommdiv2">

            <div style="position: absolute;left:0px;top:0px;width: 136px;height: 147px;">
                <img src="images/btn_trans.gif" id="recommimg2" style="border-radius: 10px;width: 136px;height: 147px;">
            </div>
            <div style="position: absolute;left:-18px;top:-16px;width: 136px;height: 147px;visibility: hidden;" id="focus2">
                <img src="images/portal/recommendfocus/navfocus_2.png" >
            </div>

        </div>
        <div style="position: absolute;left:830px;top:0px;width: 136px;height: 147px;" id="recommdiv3">

            <div style="position: absolute;left:0px;top:0px;width: 136px;height: 147px;">
                <img src="images/btn_trans.gif" id="recommimg3" style="border-radius: 10px;width: 136px;height: 147px;" >
            </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 136px;height: 147px;visibility: hidden;" id="focus3">
                <img src="images/portal/recommendfocus/navfocus_3.png" >
            </div>

        </div>
        <div style="position: absolute;left:986px;top:0px;width: 435px;height: 297px;" id="recommdiv4">

            <div style="position: absolute;left:0px;top:0px;width: 435px;height: 297px;">
                <img src="images/btn_trans.gif" id="recommimg4" style="border-radius: 10px;width: 435px;height: 297px;" >
                <img src="images/portal/recommend/bg3.png"
                     style="position: absolute;left:0px;top:260px;width: 435px;height: 37px;">
                <font id="recoName_4"
                      style="position:absolute; width: 416px; height: 30px; font-size:25px; left: 18px; top: 260px; line-height:30px;color: #fff;" class="font_ellipsis"></font>
			    <!-- -->
                <font id="recoSeName_4"
                      style="position:absolute; width: 416px; height: 20px; font-size:20px; left: 18px; top: 270px; line-height:20px;color: #fff; visibility:hidden;" class="font_ellipsis"></font>
					 
            </div>
            <div style="position: absolute;left:-17px;top:-17px;width: 435px;height: 297px;visibility: hidden;" id="focus4">
                <img src="images/portal/recommendfocus/navfocus_4.png" >
            </div>

        </div>
        <div style="position: absolute;left:1441px;top:0px;width: 286px;height: 149px;" id="recommdiv5">

            <div style="position: absolute;left:0px;top:0px;width: 286px;height: 149px;">
                <img src="images/btn_trans.gif" id="recommimg5" style="border-radius: 10px;width: 286px;height: 149px;" >
                <img src="images/portal/recommend/bg4.png"
                     style="position: absolute;left:0px;top:112px;width: 286px;height: 38px;">
                <font id="recoName_5"
                      style="position:absolute; width: 267px; height: 37px; font-size:25px; left: 18px; top: 112px; line-height:37px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-16px;top:-18px;width: 286px;height: 149px;visibility: hidden;" id="focus5">
                <img src="images/portal/recommendfocus/navfocus_5.png" >
            </div>

        </div>
        <div style="position: absolute;left:1747px;top:0px;width: 286px;height: 149px;" id="recommdiv6">

            <div style="position: absolute;left:0px;top:0px;width: 286px;height: 149px;">
                <img src="images/btn_trans.gif" id="recommimg6" style="border-radius: 10px;width: 286px;height: 149px;" >
                <img src="images/portal/recommend/bg4.png"
                     style="position: absolute;left:0px;top:113px;width: 286px;height: 37px;">
                <font id="recoName_6"
                      style="position:absolute; width: 267px; height: 37px; font-size:25px; left: 18px; top: 112px; line-height:37px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-19px;top:-20px;width: 286px;height: 149px;visibility: hidden;" id="focus6">
                <img src="images/portal/recommendfocus/navfocus_6.png" >
            </div>
        </div>

        <div style="position: absolute;left:0px;top:237px;width: 217px;height: 217px;z-index: 1;" id="recommdiv7">

            <div style="position: absolute;left:0px;top:0px;width: 217px;height: 217px;z-index: 1;">
                <img src="images/btn_trans.gif" id="recommimg7" width="217" height="217" style="border-radius: 10px;" >
                <img src="images/portal/recommend/recoTranPicBg_0.png"
                     style="position: absolute;left:0px;top:171px;width: 217px;height: 46px;">
                <font id="recoName_7"
                      style="position:absolute; width: 203px; height: 46px; font-size:25px; left: 18px; top: 171px; line-height:46px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-17px;top:-16px;width: 254px;height: 252px;visibility: hidden;" id="focus7">
                <img src="images/portal/recommendfocus/recofocus_1.png" width="251" height="250">
            </div>
        </div>


        <div style="position: absolute;left:237px;top:298px;width: 206px;height: 155px;" id="recommdiv8">

            <div style="position: absolute;left:0px;top:0px;width: 206px;height: 155px;">
                <img src="images/btn_trans.gif" id="recommimg8" width="206" height="155" style="border-radius: 10px;" >
                <img src="images/portal/recommend/recoTranPicBg_4.png"
                     style="position: absolute;left:0px;top:109px;width: 207px;height: 46px;">
                <font id="recoName_8"
                      style="position:absolute; width: 185px; height: 46px; font-size:25px; left: 18px; top: 109px; line-height:46px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 204px;height: 156px;visibility: hidden;" id="focus8">
                <img src="images/portal/recommendfocus/recofocus_3.png" >
            </div>

        </div>

        <div style="position: absolute;left:457px;top:298px;width: 206px;height: 155px;" id="recommdiv9">

            <div style="position: absolute;left:0px;top:0px;width: 206px;height: 156px;">
                <img src="images/btn_trans.gif" id="recommimg9" width="206" height="155" style="border-radius: 10px;" >
                <img src="images/portal/recommend/recoTranPicBg_4.png"
                     style="position: absolute;left:0px;top:109px;width: 206px;height: 46px;">
                <font id="recoName_9"
                      style="position:absolute; width: 185px; height: 46px; font-size:25px; left: 18px; top: 109px; line-height:46px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 204px;height: 156px;visibility: hidden;" id="focus9">
                <img src="images/portal/recommendfocus/recofocus_3.png" >
            </div>
        </div>


        <div style="position: absolute;left:681px;top:158px;width: 285px;height: 296px;" id="recommdiv10">

            <div style="position: absolute;left:0px;top:0px;width: 285px;height: 296px;">
                <img src="images/btn_trans.gif" id="recommimg10" style="border-radius: 10px;width: 285px;height: 296px;" >
                <img src="images/portal/recommend/bg6.png"
                     style="position: absolute;left:0px;top:222px;width: 285px;height: 75px;">
                <font id="recoName_10"
                      style="position:absolute; width: 266px; height: 30px; font-size:25px; left: 18px; top: 235px; line-height:30px;color: #fff;" class="font_ellipsis"></font>
                <font id="recoSeName_10"
                      style="position:absolute; width: 266px; height: 20px; font-size:20px; left: 18px; top: 266px; line-height:20px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-18px;top:-16px;width: 285px;height: 296px;visibility: hidden;" id="focus10">
                <img src="images/portal/recommendfocus/navfocus_10.png" >
            </div>
        </div>

        <div style="position: absolute;left:986px;top:311px;width: 286px;height: 143px;" id="recommdiv11">

            <div style="position: absolute;left:0px;top:0px;width: 286px;height: 140px;">
                <img src="images/btn_trans.gif" id="recommimg11"  width="286" height="140" style="border-radius: 10px;" >
                <img src="images/portal/recommend/bg4.png"
                     style="position: absolute;left:0px;top:105px;width: 286px;height: 37px;">
                <font id="recoName_11"
                      style="position:absolute; width: 267px; height: 37px; font-size:25px; left: 18px; top: 104px; line-height:37px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-16px;top:-18px;width: 286px;height: 143px;visibility: hidden;" id="focus11">
                <img src="images/portal/recommendfocus/navfocus_11.png" >
            </div>
        </div>
        <div style="position: absolute;left:1281px;top:311px;width: 140px;height: 143px;" id="recommdiv12">

            <div style="position: absolute;left:0px;top:0px;width: 140px;height: 140px;">
                <img src="images/btn_trans.gif" id="recommimg12" style="border-radius: 10px;" width="140" height="140" >
            </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 140px;height: 143px;visibility: hidden;" id="focus12">
                <img src="images/portal/recommendfocus/navfocus_12.png" >
            </div>

        </div>

        <div style="position: absolute;left:1441px;top:164px;width: 286px;height: 290px;" id="recommdiv13">

            <div style="position: absolute;left:0px;top:0px;width: 286px;height: 290px;">
                <img src="images/btn_trans.gif" id="recommimg13" width="286px" height="290px" style="border-radius: 10px;">
                <img src="images/portal/recommend/bg6.png"
                     style="position: absolute;left:0px;top:254px;width: 287px;height: 37px;">
                <font id="recoName_13"
                      style="position:absolute; width: 267px; height: 30px; font-size:25px; left: 18px; top: 250px; line-height:30px;color: #fff;" class="font_ellipsis"></font>
			   <!----->
                <font id="recoSeName_13"
                      style="position:absolute; width: 267px; height: 20px; font-size:20px; left: 18px; top: 265px; line-height:20px;color: #fff; visibility:hidden;" 
					  class="font_ellipsis"></font>
					  
            </div>
            <div style="position: absolute;left:-16px;top:-17px;width: 286px;height: 290px;visibility: hidden;" id="focus13">
                <img src="images/portal/recommendfocus/navfocus_13.png" >
            </div>
        </div>

        <div style="position: absolute;left:1747px;top:155px;width: 286px;height: 149px;" id="recommdiv14">

            <div style="position: absolute;left:0px;top:0px;width: 286px;height: 149px;">
                <img src="images/btn_trans.gif" id="recommimg14" style="border-radius: 10px;width: 286px;height: 149px;">
                <img src="images/portal/recommend/bg4.png"
                     style="position: absolute;left:0px;top:113px;width: 286px;height: 37px;">
                <font id="recoName_14"
                      style="position:absolute; width: 267px; height: 37px; font-size:25px; left: 18px; top: 112px; line-height:37px;color: #fff;" class="font_ellipsis"></font>
            </div>
            <div style="position: absolute;left:-17px;top:-18px;width: 286px;height: 149px;visibility: hidden;" id="focus14">
                <img src="images/portal/recommendfocus/navfocus_14.png" >
            </div>
        </div>
        <div style="position: absolute;left:1747px;top:311px;width: 140px;height: 144px;" id="recommdiv15">

            <%--<div style="position: absolute;left:0px;top:0px;width: 140px;height: 144px;">--%>
                <%--<img src="images/btn_trans.gif" id="recommimg15">--%>
            <%--</div>--%>
                <div style="position: absolute;left:0px;top:0px;width: 140px;height: 144px;">
                    <img src="images/btn_trans.gif" id="recommimg15" style="border-radius: 10px;width: 140px;height: 144px;" >
                    <%--<img src="images/portal/recommend/bg4.png"--%>
                         <%--style="position: absolute;left:0px;top:112px;width: 286px;height: 37px;">--%>
                    <font id="recoName_15"
                          style="position:absolute; width: 120px; height: 37px; font-size:25px; left: 18px; top: 107px; line-height:37px;color: #fff;" class="font_ellipsis"></font>
                </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 140px;height: 144px;visibility: hidden;" id="focus15">
                <img src="images/portal/recommendfocus/navfocus_15.png" >
            </div>

        </div>
        <div style="position: absolute;left:1893px;top:311px;width: 140px;height: 144px;" id="recommdiv16">

            <div style="position: absolute;left:0px;top:0px;width: 140px;height: 144px;">
                <img src="images/btn_trans.gif" id="recommimg16" style="border-radius: 10px;width: 140px;height: 144px;" >
            </div>
            <div style="position: absolute;left:-18px;top:-17px;width: 140px;height: 144px;visibility: hidden;" id="focus16">
                <img src="images/portal/recommendfocus/navfocus_16.png" >
            </div>
         </div>
    </div>
    

</div>
<script type="text/javascript">
	//var uptPosIndex = [1,3,6,7,9,12,14,2,4,5,8,10,11,13,15,16,17];
	var uptPosIndex = [0,2,5,6,8,11,13,1,3,4,7,9,10,12,14,15,16];
		
    function returnRecommObj() {
        this.objArray = recommendJSON;
        this.posterIndex = 0; //焦点所在位置
        this.timer=null;
        this.left = function () {
			try{
				if (recommObj.posterIndex == 0 || recommObj.posterIndex == 7) {
					return;
				}
				recommObj.posterblur();
				clearTimeout(recommObj.timer);
				if (recommObj.posterIndex == 15) {
					recommObj.posterIndex = 13;
				} else {
					recommObj.posterIndex--;
				}
	
				if (recommObj.posterIndex == 3 || recommObj.posterIndex == 10) {
					dom("recomm").style.left = 100 + "px";
				}
				recommObj.timer=setTimeout(function(){
					recommObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'recommend left error:' + e.message;
			}
        }
        this.right = function () {
			try{
				if (recommObj.posterIndex == 6 || recommObj.posterIndex == 14 || recommObj.posterIndex == 16) {
					return;
				}
				recommObj.posterblur();
				clearTimeout(recommObj.timer);
				recommObj.posterIndex++;
				if (recommObj.posterIndex == 4 || recommObj.posterIndex == 11) {
					dom("recomm").style.left = -891 + "px";
				}
	//            this.posterfocus();
				recommObj.timer=setTimeout(function(){
					recommObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'recommend right error:' + e.message;
			}
        }
        this.down = function () {
			try{
				if ((recommObj.posterIndex > 6 && recommObj.posterIndex < 14) || recommObj.posterIndex > 14) {
					return;
				}
				recommObj.posterblur();
				clearTimeout(recommObj.timer);
				if (recommObj.posterIndex == 6) {
					recommObj.posterIndex = 14;
				} else if (recommObj.posterIndex == 5) {
					recommObj.posterIndex = 13;
				} else if (recommObj.posterIndex == 14) {
					recommObj.posterIndex = 15;
				} else {
					recommObj.posterIndex += 7;
				}
	//            this.posterfocus();
				recommObj.timer=setTimeout(function(){
					recommObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'recommend down error:' + e.message;
			}
        }
        this.up = function () {
			try{
				if (recommObj.posterIndex < 7) {
					clearTimeout(recommObj.timer);
					areaFlag = 0;
					recommObj.posterblur();
					dom("navigation").style.visibility="visible";
					return;
				}
				recommObj.posterblur();
				clearTimeout(recommObj.timer);
				if (recommObj.posterIndex == 15 || recommObj.posterIndex == 16) {
					recommObj.posterIndex = 14;
				} else if (recommObj.posterIndex == 14) {
					recommObj.posterIndex = 6;
				} else if (recommObj.posterIndex == 13) {
					recommObj.posterIndex = 5;
				} else if (recommObj.posterIndex == 12) {
					recommObj.posterIndex = 4;
				} else {
					recommObj.posterIndex -= 7;
				}
				recommObj.timer=setTimeout(function(){
					recommObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'recommend up error:' + e.message;
			}
        }
        //ok键跳转的页面
        this.ok = function () {
			try{
				var leefocus = areaFlag + "|" + navigationObj.posterIndex + "|" + recommObj.posterIndex;
				var url = recommObj.objArray[uptPosIndex[recommObj.posterIndex]].linkURL;
				if (url == "") {
					return;
				}
				if (url.indexOf("?") > -1) {
					url = url + "&leefocus=" + leefocus;
				} else {
					url = url + "?leefocus=" + leefocus;
				}
				url=url+"&columnname="+encodeURIComponent(encodeURIComponent(recommObj.objArray[uptPosIndex[recommObj.posterIndex]].name));
				document.location = url;
			}catch(e){
				dom('test').innerHTML = 'recommend ok error:' + e.message;
			}
        }
        //显示数据的方法
        this.showObj = function () {
			try{
				for (var i = 0; i < 17; i++) {
					if(dom("recommimg" + i)){
						dom("recommimg" + i).src = recommObj.objArray[uptPosIndex[i]].images;
					}
					if (recommObj.objArray[uptPosIndex[i]].name != "" && recommObj.objArray[uptPosIndex[i]].name != undefined) {
	//                    dom("recoName_" + i).innerText = this.objArray[i].name;
						if(dom("recoName_" +i)){
							stopScroll("recoName_" +i,recommObj.objArray[uptPosIndex[i]].name);
						}
					}
					if (recommObj.objArray[uptPosIndex[i]].subname != "" && recommObj.objArray[uptPosIndex[i]].subname != undefined) {
						if(dom("recoSeName_" +i)){
							dom("recoSeName_" + i).innerText = recommObj.objArray[uptPosIndex[i]].subname;
						}
					}
				}
			}catch(e){
				dom('test').innerHTML = 'recommend showObj error:' + e.message;
			}
        }
			
        //图片获取焦点所执行的方法
        this.posterfocus = function () {
			try{
                dom("focus" + recommObj.posterIndex).style.visibility = "visible";
				if(isscale){
					dom("recommdiv" + recommObj.posterIndex).style.webkitTransform="scale(1.1)";
				}
                dom("recommdiv" + recommObj.posterIndex).style.zIndex = 99;
				 if(recommObj.objArray[uptPosIndex[recommObj.posterIndex]].name!=""){
					if(dom("recoName_" + recommObj.posterIndex)){
				     	starScroll("recoName_" + recommObj.posterIndex,recommObj.objArray[uptPosIndex[recommObj.posterIndex]].name,dom("recoName_" + recommObj.posterIndex).offsetWidth);
					}
                }
			}catch(e){
				dom('test').innerHTML = 'recommend posterfocus error:' + e.message;
			}
        }
        // 图片失去焦点执行的方法
        this.posterblur = function () {
			try{
				dom("focus" + recommObj.posterIndex).style.visibility = "hidden";
				if(isscale){
					dom("recommdiv" + recommObj.posterIndex).style.webkitTransform="scale(1)";
				}
				dom("recommdiv" + recommObj.posterIndex).style.zIndex = 1;
				if(recommObj.objArray[uptPosIndex[recommObj.posterIndex]].name!=""){
					stopScroll("recoName_" + recommObj.posterIndex,recommObj.objArray[uptPosIndex[recommObj.posterIndex]].name);
				}
			}catch(e){
				dom('test').innerHTML = 'recommend posterblur error:' + e.message;
			}
        }

    }
</script>
