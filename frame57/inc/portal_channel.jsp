<%@ page contentType="text/html; charset=UTF-8" %>
<div style="position: absolute;left: 1280px;top:170px;width: 1280px;height: 510px; display:none;" id="channel">
    <div style="position: absolute;left:56px;top:0px;width: 254px;height: 171px;" id="channeldiv0">
        <div>
            <img src="images/btn_trans.gif" id="channelimg0">
            <font id="channeName_0"
                  style="position:absolute; width: 254px; height: 37px; font-size:30px; left: 0px; top: 120px; line-height:37px;color: #fff;text-align: center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-17px;width: 254px;height: 171px;visibility: hidden;" id="channelfocus0">
            <img src="images/portal/channel/f0.png" >
        </div>
    </div>
    <div style="position: absolute;left:56px;top:183px;width: 254px;height: 74px;" id="channeldiv1">
        <div>
            <img src="images/btn_trans.gif" id="channelimg1">
            <font id="channeName_1"
                  style="position:absolute; width: 254px; height: 74px; font-size:30px; left: 0px; top: 0px; line-height:74px;color: #fff;text-align:center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-17px;width: 254px;height: 74px;visibility: hidden;" id="channelfocus1">
            <img src="images/portal/channel/f2.png" >
        </div>
    </div>
    <div style="position: absolute;left:56px;top:264px;width: 254px;height: 66px;" id="channeldiv2">
        <div>
            <img src="images/btn_trans.gif" id="channelimg2">
            <font id="channeName_2"
                  style="position:absolute; width: 254px; height: 66px; font-size:30px; left: 0px; top: 0px; line-height:66px;color: #fff;text-align:center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 254px;height: 66px;visibility: hidden;" id="channelfocus2">
            <img src="images/portal/channel/f2.png" >
        </div>
    </div>
    <div style="position: absolute;left:56px;top:339px;width: 254px;height: 66px;" id="channeldiv3">
        <div>
            <img src="images/btn_trans.gif" id="channelimg3">
            <font id="channeName_3"
                  style="position:absolute; width: 254px; height: 66px; font-size:30px; left: 0px; top: 0px; line-height:66px;color: #fff;text-align:center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 254px;height: 66px;visibility: hidden;" id="channelfocus3">
            <img src="images/portal/channel/f2.png" >
        </div>
    </div>
    <div style="position: absolute;left:56px;top:415px;width: 254px;height: 66px;" id="channeldiv4">
        <div>
            <img src="images/btn_trans.gif" id="channelimg4">
            <font id="channeName_4"
                  style="position:absolute; width: 254px; height: 66px; font-size:30px; left: 0px; top: 0px; line-height:66px;color: #fff;text-align:center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 254px;height: 66px;visibility: hidden;" id="channelfocus4">
            <img src="images/portal/channel/f2.png" >
        </div>
    </div>
    <div style="position: absolute;left:325px;top:5px;width: 583px;height: 315px;" id="channeldiv5">
        <%--<img src="images/portal/channel/channel10.png" id="channelimg5">--%>
        <iframe id="xx_0" style="left:0px;top:0px;width: 583px;height: 315px; position:absolute;"
                src="empty.jsp"></iframe>
      <div style="position: absolute;left:-17px;top:-18px;width: 289px;height: 154px;visibility: hidden;" id="channelfocus5">
            <img src="images/portal/channel/f5.png" >
        </div>
    </div>
    <div style="position: absolute;left:321px;top:329px;width: 289px;height: 154px;" id="channeldiv6">
        <div style="position: absolute;left:0px;top:0px;width: 289px;height: 154px;">
            <img src="images/btn_trans.gif" id="channelimg6">
			<!-- -->
			  <img src="images/portal/channel/2.png"
                 style="position: absolute;left:-1px;top:115px;width: 290px;height: 39px; visibility:hidden;">
            <font id="channeName_6"
                  style="position:absolute; width: 270px; height: 39px; font-size:25px; left: 18px; top: 115px; line-height:39px;color: #fff; visibility:hidden;" class="font_ellipsis"></font>
			
          
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 289px;height: 154px;visibility: hidden;" id="channelfocus6">
            <img src="images/portal/channel/f6.png" >
        </div>
    </div>
    <div style="position: absolute;left:617px;top:329px;width: 289px;height: 154px;" id="channeldiv7">
        <div style="position: absolute;left:0px;top:0px;width: 289px;height: 154px;">
            <img src="images/btn_trans.gif" id="channelimg7">
            <img src="images/portal/channel/2.png"
                 style="position: absolute;left:-1px;top:115px;width: 290px;height: 39px;">
            <font id="channeName_7"
                  style="position:absolute; width: 270px; height: 39px; font-size:25px; left: 18px; top: 115px; line-height:39px;color: #fff;" class="font_ellipsis"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 289px;height: 154px;visibility: hidden;" id="channelfocus7">
            <img src="images/portal/channel/f6.png" >
        </div>
    </div>
    <div style="position: absolute;left:915px;top:0px;width: 149px;height: 149px;" id="channeldiv8">
        <div>
            <img src="images/btn_trans.gif" id="channelimg8">
            <font id="channeName_8"
                  style="position:absolute; width: 149px; height: 37px; font-size:26px; left: 0px; top: 100px; line-height:37px;color: #fff;text-align: center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-17px;width: 149px;height: 149px;visibility: hidden;" id="channelfocus8">
            <img src="images/portal/channel/f8.png" >
        </div>
    </div>

    <div style="position: absolute;left:1071px;top:0px;width: 149px;height: 149px;" id="channeldiv9">
        <div>
            <img src="images/btn_trans.gif" id="channelimg9">
            <font id="channeName_9"
                  style="position:absolute; width: 149px; height: 37px; font-size:26px; left: 0px; top: 100px; line-height:37px;color: #fff;text-align: center;"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-17px;width: 149px;height: 149px;visibility: hidden;" id="channelfocus9">
            <img src="images/portal/channel/f8.png" >
        </div>
    </div>

    <div style="position: absolute;left:915px;top:158px;width: 304px;height: 163px;" id="channeldiv10">
        <div style="position: absolute;left: 0px;top:0px;width: 304px;height: 163px;">
            <img src="images/btn_trans.gif" id="channelimg10" width="304" height="163">
            <img src="images/portal/channel/1.png"
                 style="position: absolute;left:-1px;top:124px;width: 305px;height: 39px;">
            <font id="channeName_10"
                  style="position:absolute; width: 285px; height: 39px; font-size:25px; left: 18px; top: 124px; line-height:39px;color: #fff;" class="font_ellipsis"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 304px;height: 163px;visibility: hidden;" id="channelfocus10">
        <img src="images/portal/channel/f10.png" >
        </div>
    </div>

    <div style="position: absolute;left:916px;top:329px;width: 304px;height: 153px;" id="channeldiv11">
        <div style="position: absolute;left:0px;top:0px;width: 289px;height: 154px;">
            <img src="images/btn_trans.gif" id="channelimg11" width="304" height="153">
            <img src="images/portal/channel/1.png"
                 style="position: absolute;left:-1px;top:115px;width: 305px;height: 39px;">
            <font id="channeName_11"
                  style="position:absolute; width: 285px; height: 39px; font-size:25px; left: 18px; top: 115px; line-height:39px;color: #fff;" class="font_ellipsis"></font>
        </div>
        <div style="position: absolute;left:-17px;top:-16px;width: 304px;height: 163px;visibility: hidden;" id="channelfocus11">
        <img src="images/portal/channel/f10.png" width="337"  height="185">
        </div>
    </div>

</div>
<script type="text/javascript">
    function returnChannelObj() {
        this.objArray = channelJSON;
        this.posterIndex = 0;
        this.timer=null;
        this.left = function () {
			try{
				if (channelObj.posterIndex < 5) {
					return;
				}
				channelObj.posterblur();
				clearTimeout(channelObj.timer);
				if (channelObj.posterIndex == 8) {
					channelObj.posterIndex = 5;
				} else if (channelObj.posterIndex == 5) {
					channelObj.posterIndex = 0;
				} else if (channelObj.posterIndex == 11) {
					channelObj.posterIndex = 7;
				} else if (channelObj.posterIndex == 6) {
					channelObj.posterIndex = 4;
				}else if (channelObj.posterIndex == 10) {
					channelObj.posterIndex = 5;
				} else {
					channelObj.posterIndex--;
				}
				channelObj.timer=setTimeout(function(){
					channelObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'portalchannel left:' + e.message;
			}
        }
        this.right = function () {
			try{
				if (channelObj.posterIndex > 8) {
					return;
				}
				channelObj.posterblur();
				clearTimeout(channelObj.timer);
				if (channelObj.posterIndex < 3) {
					channelObj.posterIndex = 5;
				} else if (channelObj.posterIndex == 3 || channelObj.posterIndex == 4) {
					channelObj.posterIndex = 6;
				} else if (channelObj.posterIndex == 5) {
					channelObj.posterIndex = 8;
				} else if (channelObj.posterIndex == 7) {
					channelObj.posterIndex = 11;
				} else {
					channelObj.posterIndex++;
				}
				channelObj.timer=setTimeout(function(){
					channelObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'portalchannel right:' + e.message;
			}
        }
        this.down = function () {
			try{
				if (channelObj.posterIndex == 4 || channelObj.posterIndex == 6 || channelObj.posterIndex == 7 || channelObj.posterIndex == 11) {
					return;
				}
				channelObj.posterblur();
				clearTimeout(channelObj.timer);
				if (channelObj.posterIndex == 8) {
					channelObj.posterIndex = 10;
				} else {
					channelObj.posterIndex++;
				}
				channelObj.timer=setTimeout(function(){
					channelObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'portalchannel down:' + e.message;
			}
        }
        this.up = function () {
			try{
				if (channelObj.posterIndex == 0 || channelObj.posterIndex == 5 || channelObj.posterIndex == 8 || channelObj.posterIndex == 9) {
	//                setTimeout(function(){
					   clearTimeout(channelObj.timer);
						areaFlag = 0;
						channelObj.posterblur();
						dom("navigation").style.visibility="visible";
	//                },300);
					return;
				}
				channelObj.posterblur();
				clearTimeout(channelObj.timer);
				if (channelObj.posterIndex == 7) {
					channelObj.posterIndex = 5;
				} else {
					channelObj.posterIndex--;
				}
				channelObj.timer=setTimeout(function(){
					channelObj.posterfocus();
				},300);
			}catch(e){
				dom('test').innerHTML = 'portalchannel up:' + e.message;
			}
        }
        this.ok = function () {
			try{
				var leefocus=areaFlag+"|"+navigationObj.posterIndex+"|"+channelObj.posterIndex;
				var url=channelObj.objArray[channelObj.posterIndex].linkURL;
				if(url==""){
					return;
				}
				top.doStop();
				channelObj.colsechannel();
				if(url.indexOf("?")>-1){
					url=url+"&leefocus="+leefocus;
				}else{
					url=url+"?leefocus="+leefocus;
				}
				 document.location=url+"&framechannel=0";
			}catch(e){
				dom('test').innerHTML = 'portalchannel ok:' + e.message;
			}
        }
        this.colsechannel=function(){
			try{
				try{
					window.frames["xx_0"].destoryMP();
					dom("xx_0").src = "empty.jsp";
				}catch(e){
					dom("xx_0").src = "empty.jsp";
				}
			}catch(e){
				dom('test').innerHTML = 'portalchannel colsechannel:' + e.message;
			}

        }
        //播放小视屏窗口页面
        this.playchannel=function(){
			try{
				var mixno=channelObj.objArray[5].name;
				dom("xx_0").src = "small_player_channel.jsp?left=322&top=176&width=583&height=315&mixno="+mixno;
			}catch(e){
				dom('test').innerHTML = 'portalchannel playchannel:' + e.message;
			}
        };
        //加载数据
        this.showObj = function () { 
			try{
			   for(var i=0;i<12;i++){
				   if(i!=5){
					   dom("channelimg" +i).src=channelObj.objArray[i].images;
				   }
	
				   if(channelObj.objArray[i].name!=""){
					   if(i!=5){
						   stopScroll("channeName_" + i,channelObj.objArray[i].name);
					   }
				   }
			   }
			}catch(e){
				dom('test').innerHTML = 'portalchannel showObj:' + e.message;
			}
        }
        //图片获取焦点所执行的方法
        this.posterfocus = function () {
			try{
                dom("channelfocus" + channelObj.posterIndex).style.visibility = "visible";
                if(channelObj.posterIndex == 5){
                } else{
                    if(isscale){
                        dom("channeldiv" + channelObj.posterIndex).style.webkitTransform="scale(1.1)";
                    }
                }
                dom("channeldiv" + channelObj.posterIndex).style.zIndex = 99;
                if(channelObj.objArray[channelObj.posterIndex].name!=""&&channelObj.posterIndex!=5){
                    starScroll("channeName_" + channelObj.posterIndex,channelObj.objArray[channelObj.posterIndex].name,dom("channeldiv" + channelObj.posterIndex).style.width);
                }
			}catch(e){
				dom('test').innerHTML = 'portalchannel posterfocus:' + e.message;
			}
        }

        // 图片失去焦点执行的方法
        this.posterblur = function () {
			try{
				dom("channelfocus" + channelObj.posterIndex).style.visibility = "hidden";
				if(isscale){
					dom("channeldiv" + channelObj.posterIndex).style.webkitTransform="scale(1)";
				}
				dom("channeldiv" + channelObj.posterIndex).style.zIndex = 1;
				if(channelObj.objArray.length==0) return;
				if(channelObj.objArray[channelObj.posterIndex].name!=""&&channelObj.posterIndex!=5){
					stopScroll("channeName_" + channelObj.posterIndex,channelObj.objArray[channelObj.posterIndex].name);
				}
			}catch(e){
				dom('test').innerHTML = 'portalchannel posterblur:' + e.message;
			}
        }
    }
</script>
